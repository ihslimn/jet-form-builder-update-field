(()=>{"use strict";var e="jfb_update_fields_options_enabled",t="jfb_update_fields_value_enabled",n="jfb_update_fields_field_to_listen",r="jfb_update_fields_callback",l={"jet-forms/select-field":"options","jet-forms/radio-field":"options","jet-forms/checkbox-field":"options","jet-forms/text-field":"value","jet-forms/textarea-field":"value","jet-forms/hidden-field":"value"};function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==o(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===o(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function f(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=wp.hooks.addFilter,m=wp.compose.createHigherOrderComponent,b=wp.blockEditor.InspectorControls,s=wp.components,d=s.TextControl,y=s.ToggleControl,v=s.Panel,w=s.PanelRow,g=s.PanelBody,h=m((function(o){return function(i){var a=i.name,u=l[a]||!1;if(!u)return wp.element.createElement(o,i);var c=i.attributes,p=i.setAttributes,m=i.isSelected;return wp.element.createElement(React.Fragment,null,wp.element.createElement(o,i),m&&wp.element.createElement(b,null,wp.element.createElement(v,null,wp.element.createElement(g,{title:"Field updater",initialOpen:!1},"options"===u&&wp.element.createElement(w,null,wp.element.createElement(y,{label:"Enable options updater",help:c[e]?"Enabled.":"Disabled.",checked:c[e],onChange:function(){p(f({},e,!c[e]))}})),"options"===u&&c[e]&&wp.element.createElement(w,null,wp.element.createElement(d,{label:"Field to listen",value:c[n],onChange:function(e){p(f({},n,e))}})),"value"===u&&wp.element.createElement(w,null,wp.element.createElement(y,{label:"Enable value updater",help:c[t]?"Enabled.":"Disabled.",checked:c[t],onChange:function(){p(f({},t,!c[t]))}})),"value"===u&&c[t]&&wp.element.createElement(w,null,wp.element.createElement(d,{label:"Field to listen",value:c[n],onChange:function(e){p(f({},n,e))}})),"value"===u&&c[t]&&wp.element.createElement(w,null,wp.element.createElement(d,{label:"Callback or query parameters",value:c[r],help:"Callback which parameters are $item_id (value of the field that is being listened to), $field_name (this field name), $form_id (this form ID). Alternatively JetEngine query_id|property to get a specified propery from the first object from query.",onChange:function(e){p(f({},r,e))}}))))))}}),"addControls");p("editor.BlockEdit","jet-form-builder/update-fields",h),(0,wp.hooks.addFilter)("blocks.registerBlockType","jet-form-builder/switch-page-on-change-support",(function(o,i){var c;return l[i]?(o.attributes=a(a({},o.attributes),{},(u(c={},e,{type:"boolean",default:!1}),u(c,t,{type:"boolean",default:!1}),u(c,n,{type:"string",default:""}),u(c,r,{type:"string",default:""}),c)),o):o}))})();